{% extends 'baseConnexion.html.twig' %}

{% block title %}Connexion{% endblock %}
{% block stylesheets %}
	<link href="{{ asset ('assets/iconfonts/feather/feather.css')}}" rel="stylesheet"/>
	<link rel="stylesheet" href="{{ asset ('assets/plugins/notify/css/notifIt.css')}}">
{% endblock %}
{% block body %}


{% if error %}
	<script src="{{ asset ('assets/js/notifications.js')}}"></script>

	<!-- INTERNAL Notifications js -->
	<script src="{{ asset ('assets/plugins/notify/js/rainbow.js')}}"></script>
	<script src="{{ asset ('assets/plugins/notify/js/sample.js')}}"></script>
	<script src="{{ asset ('assets/plugins/notify/js/notifIt.js')}}"></script>
	<script>
		notif({type: 'error', position: 'left', msg: "<b>{{ error.messageKey|trans(error.messageData, 'security') }}<b>"});
	</script>
{% endif %}

<body class="register1">
	{% for message in app.flashes('info')  %}
		{# <div class="alert alert-light-success" role="alert">
			<button type="button" class="btn-close text-danger mr-negative-16" data-bs-dismiss="alert" aria-hidden="true">×</button>
			<strong><i class="fa fa-happy-o me-2" aria-hidden="true"></i>{{ message }}</strong>
		</div> #}
		<script src="{{ asset ('assets/js/notifications.js')}}"></script>

		<!-- INTERNAL Notifications js -->
		<script src="{{ asset ('assets/plugins/notify/js/rainbow.js')}}"></script>
		<script src="{{ asset ('assets/plugins/notify/js/sample.js')}}"></script>
		<script src="{{ asset ('assets/plugins/notify/js/notifIt.js')}}"></script>
		<script>
			 notif({
				msg: "<b>Success : </b>{{ message }}",
				type: "success"
			});
		</script>
	{% endfor %}
		<div class="page">
			<div class="page-content">
				<div class="container">
					<div class="row">
						<div class="col mx-auto">
							<div class="row justify-content-center">
								<div class="col-md-4">
									<div class="card border-primary">
										<div class="card-body">
											<div class="text-center mb-3">
												<h1 class="mb-2">{% trans %}Connexion{% endtrans %}</h1>
											</div>
											<form method="post" class="mt-5">
												{# {% if error %}
													<div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
												{% endif %} #}

												{% for message in app.flashes('error')  %}

													<div class="alert alert-light-danger" role="alert">
														<button type="button" class="btn-close text-danger mr-negative-16" data-bs-dismiss="alert" aria-hidden="true">×</button>
														<strong><i class="fa fa-frown-o me-2" aria-hidden="true"></i>{{ message }}</strong>
													</div>

												{% endfor %}

												{% if app.user %}
													<div class="mb-3">
														{% trans %}Vous êtes connectés sous {% endtrans %} : {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">{% trans %}Déconnexion{% endtrans %}</a>
													</div>
												{% endif %}
												<div class="input-group mb-4">
													<div class="input-group-text">
														<i class="fe fe-mail"></i>
													</div>
													<input type="email" value="{{ last_username }}" name="email" id="inputUsername" class="form-control" autocomplete="username" required autofocus placeholder="Votre email">
												
												</div>
												<div class="input-group mb-4">
													<div class="input-group" id="Password-toggle">
														<a href="" class="input-group-text">
															<i class="fe fe-eye" aria-hidden="true"></i>
														</a>
														<input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required placeholder="Mot de passe">
													</div>
												</div>
												<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                                                        
												<div class="form-group">
													<label class="custom-control custom-checkbox">
														<input type="checkbox" name="_remember_me" class="custom-control-input" />
														<span class="custom-control-label">{% trans %}Se souvenir de moi{% endtrans %}</span>
													</label>
												</div>
												<div class="form-group text-center mb-3">
													<button class="btn btn-outline-primary btn-md w-100 br-7">
														<i class="fe fe-unlock me-2"></i> 
														{% trans %}Connexion{% endtrans %}
													</button>
												</div>
												<div class="form-group fs-13 text-center">
													<a href="{{ path ('mot_de_passe_oublie') }}">
														<span class="badge badge-gradient-danger mt-2">
															{% trans %}Mot de passe oublié ?{% endtrans %}
														</span>
													</a> 
													<a href="{{ path ('app_register') }}">
														<span class="badge badge-gradient-primary mt-2">
															{% trans %}Créer un compte{% endtrans %}
														</span>
													</a>
												</div>
												<div class="form-group fs-14 text-center font-weight-bold">
													<a href="{{ path ('accueil')}}"><i class="fe fe-home me-2"></i>{% trans %}Accueil{% endtrans %}</a>
												</div>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

{% endblock %}
